<ion-header>
  <ion-navbar color="dark">
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>
      <img class="logo-suap" src="assets/logo.png" style="vertical-align: middle;" />
    </ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>
  <h5 text-center>Férias</h5>

  <ion-card *ngIf="ferias?.length == 0">
    <ion-card-content>
      <ion-badge color="subtle">Nenhum registro de férias encontrado.</ion-badge>
    </ion-card-content>
  </ion-card>

  <ion-list *ngIf="ferias?.length != 0">
    <ion-item-group *ngFor="let item_ferias of ferias">
      <ion-item-divider color="light">
        <strong>
          Exercício {{ item_ferias.ano }}
        </strong>
      </ion-item-divider>
      <ion-item>
        <ion-grid>
          <ion-row>
            <ion-col>
              <p>
                <strong>Período 1:</strong>
                {{ item_ferias.data_inicio_periodo1|date:"dd/MM/yyyy" }} à {{ item_ferias.data_fim_periodo1|date:"dd/MM/yyyy" }}
              </p>
              <div *ngFor="let interrupcao of item_ferias.interrupcoes">
                <p padding *ngIf="(interrupcao.data_interrupcao_periodo|date:'yyyyMMdd') >= (item_ferias.data_inicio_periodo1|date:'yyyyMMdd') && (item_ferias.data_fim_periodo1|date:'yyyyMMdd') >= (interrupcao.data_interrupcao_periodo|date:'yyyyMMdd')">
                  <strong>Interrupção em:</strong>
                  {{ interrupcao.data_interrupcao_periodo|date:"dd/MM/yyyy" }}
                  <br/>
                  <br/>
                  <strong>Continuação:</strong>
                  {{ interrupcao.data_inicio_continuacao_periodo|date:"dd/MM/yyyy" }} à {{ interrupcao.data_fim_continuacao_periodo|date:"dd/MM/yyyy" }}
                </p>
              </div>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col>
              <p>
                <strong>Período 2:</strong>
      
                {{ item_ferias.data_inicio_periodo2|date:"dd/MM/yyyy" }} à {{ item_ferias.data_fim_periodo2|date:"dd/MM/yyyy" }}
              </p>
              <div *ngFor="let interrupcao of item_ferias.interrupcoes">
                <p padding *ngIf="(interrupcao.data_interrupcao_periodo|date:'yyyyMMdd') >= (item_ferias.data_inicio_periodo2|date:'yyyyMMdd') && (item_ferias.data_fim_periodo2|date:'yyyyMMdd') >= (interrupcao.data_interrupcao_periodo|date:'yyyyMMdd')">
                  <strong>Interrupção em:</strong>
                  {{ interrupcao.data_interrupcao_periodo|date:"dd/MM/yyyy" }}
                  <br/>
                  <strong>Continuação:</strong>
                  {{ interrupcao.data_inicio_continuacao_periodo|date:"dd/MM/yyyy" }} à {{ interrupcao.data_fim_continuacao_periodo|date:"dd/MM/yyyy" }}
                </p>
              </div>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col>
              <p>
                <strong>Período 3:</strong>
      
                {{ item_ferias.data_inicio_periodo3|date:"dd/MM/yyyy" }} à {{ item_ferias.data_fim_periodo3|date:"dd/MM/yyyy" }}
              </p>
              <div *ngFor="let interrupcao of item_ferias.interrupcoes">
                <p padding *ngIf="(interrupcao.data_interrupcao_periodo|date:'yyyyMMdd') >= (item_ferias.data_inicio_periodo3|date:'yyyyMMdd') && (item_ferias.data_fim_periodo3|date:'yyyyMMdd') >= (interrupcao.data_interrupcao_periodo|date:'yyyyMMdd')">
                  <strong>Interrupção em:</strong>
                  {{ interrupcao.data_interrupcao_periodo|date:"dd/MM/yyyy" }}
                  <br/>
                  <br/>
                  <strong>Continuação:</strong>
                  {{ interrupcao.data_inicio_continuacao_periodo|date:"dd/MM/yyyy" }} à {{ interrupcao.data_fim_continuacao_periodo|date:"dd/MM/yyyy" }}
                </p>
              </div>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col>
              <p>
                <strong>Situação:</strong>
                <ion-badge color="secondary" *ngIf="item_ferias.status == 'Cadastrado no Siape'">
                  {{ item_ferias.status }}
                </ion-badge>
                <ion-badge color="subtle" *ngIf="item_ferias.status != 'Cadastrado no Siape'">
                  {{ item_ferias.status }}
                </ion-badge>
              </p>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-item>
    </ion-item-group>
  </ion-list>
</ion-content>
